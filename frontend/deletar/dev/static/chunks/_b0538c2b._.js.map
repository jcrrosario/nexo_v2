{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Serenyo/Projetos/nexo/frontend/app/%28entity%29/components/CrudLayout.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React from 'react'\r\n\r\ntype CrudLayoutProps = {\r\n  title: string\r\n  subtitle?: string\r\n  actions?: React.ReactNode\r\n  children: React.ReactNode\r\n}\r\n\r\nexport default function CrudLayout({\r\n  title,\r\n  subtitle,\r\n  actions,\r\n  children,\r\n}: CrudLayoutProps) {\r\n  return (\r\n    <div style={container}>\r\n      <div style={header}>\r\n        <div>\r\n          <h1 style={titleStyle}>{title}</h1>\r\n          {subtitle && <p style={subtitleStyle}>{subtitle}</p>}\r\n        </div>\r\n\r\n        {actions && <div>{actions}</div>}\r\n      </div>\r\n\r\n      <div style={content}>{children}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\n/* ===== styles ===== */\r\n\r\nconst container = {\r\n  background: '#fff',\r\n  borderRadius: 12,\r\n  padding: 24,\r\n  boxShadow: '0 4px 16px rgba(0,0,0,0.06)',\r\n}\r\n\r\nconst header = {\r\n  display: 'flex',\r\n  justifyContent: 'space-between',\r\n  alignItems: 'center',\r\n  marginBottom: 20,\r\n}\r\n\r\nconst titleStyle = {\r\n  fontSize: 24,\r\n  fontWeight: 700,\r\n  marginBottom: 4,\r\n}\r\n\r\nconst subtitleStyle = {\r\n  fontSize: 14,\r\n  color: '#5b6b82',\r\n}\r\n\r\nconst content = {\r\n  width: '100%',\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAWe,SAAS,WAAW,EACjC,KAAK,EACL,QAAQ,EACR,OAAO,EACP,QAAQ,EACQ;IAChB,qBACE,6LAAC;QAAI,OAAO;;0BACV,6LAAC;gBAAI,OAAO;;kCACV,6LAAC;;0CACC,6LAAC;gCAAG,OAAO;0CAAa;;;;;;4BACvB,0BAAY,6LAAC;gCAAE,OAAO;0CAAgB;;;;;;;;;;;;oBAGxC,yBAAW,6LAAC;kCAAK;;;;;;;;;;;;0BAGpB,6LAAC;gBAAI,OAAO;0BAAU;;;;;;;;;;;;AAG5B;KApBwB;AAsBxB,sBAAsB,GAEtB,MAAM,YAAY;IAChB,YAAY;IACZ,cAAc;IACd,SAAS;IACT,WAAW;AACb;AAEA,MAAM,SAAS;IACb,SAAS;IACT,gBAAgB;IAChB,YAAY;IACZ,cAAc;AAChB;AAEA,MAAM,aAAa;IACjB,UAAU;IACV,YAAY;IACZ,cAAc;AAChB;AAEA,MAAM,gBAAgB;IACpB,UAAU;IACV,OAAO;AACT;AAEA,MAAM,UAAU;IACd,OAAO;AACT"}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file:///C:/Serenyo/Projetos/nexo/frontend/app/%28entity%29/components/CrudTable.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React from 'react'\r\n\r\ntype Column<T> = {\r\n  key: keyof T | 'actions'\r\n  label: string\r\n  render?: (row: T) => React.ReactNode\r\n}\r\n\r\ntype CrudTableProps<T> = {\r\n  columns: Column<T>[]\r\n  data: T[]\r\n  rowKey?: (row: T, index: number) => string | number\r\n}\r\n\r\nexport default function CrudTable<T extends Record<string, any>>({\r\n  columns,\r\n  data,\r\n  rowKey,\r\n}: CrudTableProps<T>) {\r\n  return (\r\n    <table style={table}>\r\n      <thead>\r\n        <tr>\r\n          {columns.map(col => (\r\n            <th key={String(col.key)} style={th}>\r\n              {col.label}\r\n            </th>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        {data.map((row, index) => (\r\n          <tr\r\n            key={\r\n              rowKey\r\n                ? rowKey(row, index)\r\n                : `${row.user_id ?? 'row'}-${index}`\r\n            }\r\n          >\r\n            {columns.map(col => (\r\n              <td key={String(col.key)} style={td}>\r\n                {col.render\r\n                  ? col.render(row)\r\n                  : col.key === 'actions'\r\n                  ? null\r\n                  : row[col.key]}\r\n              </td>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  )\r\n}\r\n\r\n/* ===== styles ===== */\r\n\r\nconst table = {\r\n  width: '100%',\r\n  borderCollapse: 'collapse',\r\n}\r\n\r\nconst th = {\r\n  textAlign: 'left' as const,\r\n  padding: '10px 12px',\r\n  background: '#0b1a3a',\r\n  color: '#fff',\r\n  fontWeight: 600,\r\n}\r\n\r\nconst td = {\r\n  padding: '10px 12px',\r\n  borderBottom: '1px solid #e5e7eb',\r\n  fontSize: 14,\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAgBe,SAAS,UAAyC,EAC/D,OAAO,EACP,IAAI,EACJ,MAAM,EACY;IAClB,qBACE,6LAAC;QAAM,OAAO;;0BACZ,6LAAC;0BACC,cAAA,6LAAC;8BACE,QAAQ,GAAG,CAAC,CAAA,oBACX,6LAAC;4BAAyB,OAAO;sCAC9B,IAAI,KAAK;2BADH,OAAO,IAAI,GAAG;;;;;;;;;;;;;;;0BAO7B,6LAAC;0BACE,KAAK,GAAG,CAAC,CAAC,KAAK,sBACd,6LAAC;kCAOE,QAAQ,GAAG,CAAC,CAAA,oBACX,6LAAC;gCAAyB,OAAO;0CAC9B,IAAI,MAAM,GACP,IAAI,MAAM,CAAC,OACX,IAAI,GAAG,KAAK,YACZ,OACA,GAAG,CAAC,IAAI,GAAG,CAAC;+BALT,OAAO,IAAI,GAAG;;;;;uBANvB,SACI,OAAO,KAAK,SACZ,GAAG,IAAI,OAAO,IAAI,MAAM,CAAC,EAAE,OAAO;;;;;;;;;;;;;;;;AAiBpD;KAxCwB;AA0CxB,sBAAsB,GAEtB,MAAM,QAAQ;IACZ,OAAO;IACP,gBAAgB;AAClB;AAEA,MAAM,KAAK;IACT,WAAW;IACX,SAAS;IACT,YAAY;IACZ,OAAO;IACP,YAAY;AACd;AAEA,MAAM,KAAK;IACT,SAAS;IACT,cAAc;IACd,UAAU;AACZ"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///C:/Serenyo/Projetos/nexo/frontend/lib/api.ts"],"sourcesContent":["const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001'\r\n\r\nasync function request(\r\n  path: string,\r\n  options: RequestInit = {},\r\n) {\r\n  const token =\r\n    typeof window !== 'undefined'\r\n      ? localStorage.getItem('entity_token')\r\n      : null\r\n\r\n  const res = await fetch(`${API_URL}${path}`, {\r\n    ...options,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n      ...(options.headers || {}),\r\n    },\r\n  })\r\n\r\n  const contentType = res.headers.get('content-type')\r\n\r\n  // ðŸ‘‡ proteÃ§Ã£o contra HTML\r\n  if (!contentType || !contentType.includes('application/json')) {\r\n    const text = await res.text()\r\n    throw new Error('Resposta invÃ¡lida do servidor')\r\n  }\r\n\r\n  if (!res.ok) {\r\n    const error = await res.json()\r\n    throw new Error(error.message || 'Erro na requisiÃ§Ã£o')\r\n  }\r\n\r\n  return res.json()\r\n}\r\n\r\nexport const api = {\r\n  get: (path: string) => request(path),\r\n  post: (path: string, body: any) =>\r\n    request(path, {\r\n      method: 'POST',\r\n      body: JSON.stringify(body),\r\n    }),\r\n  put: (path: string, body: any) =>\r\n    request(path, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(body),\r\n    }),\r\n  delete: (path: string) =>\r\n    request(path, {\r\n      method: 'DELETE',\r\n    }),\r\n}\r\n"],"names":[],"mappings":";;;;AAAgB;AAAhB,MAAM,UAAU,6DAAmC;AAEnD,eAAe,QACb,IAAY,EACZ,UAAuB,CAAC,CAAC;IAEzB,MAAM,QACJ,uCACI,aAAa,OAAO,CAAC,kBACrB;IAEN,MAAM,MAAM,MAAM,MAAM,GAAG,UAAU,MAAM,EAAE;QAC3C,GAAG,OAAO;QACV,SAAS;YACP,gBAAgB;YAChB,GAAI,QAAQ;gBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;YAAC,IAAI,CAAC,CAAC;YACrD,GAAI,QAAQ,OAAO,IAAI,CAAC,CAAC;QAC3B;IACF;IAEA,MAAM,cAAc,IAAI,OAAO,CAAC,GAAG,CAAC;IAEpC,0BAA0B;IAC1B,IAAI,CAAC,eAAe,CAAC,YAAY,QAAQ,CAAC,qBAAqB;QAC7D,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,QAAQ,MAAM,IAAI,IAAI;QAC5B,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACnC;IAEA,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,MAAM;IACjB,KAAK,CAAC,OAAiB,QAAQ;IAC/B,MAAM,CAAC,MAAc,OACnB,QAAQ,MAAM;YACZ,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF,KAAK,CAAC,MAAc,OAClB,QAAQ,MAAM;YACZ,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF,QAAQ,CAAC,OACP,QAAQ,MAAM;YACZ,QAAQ;QACV;AACJ"}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///C:/Serenyo/Projetos/nexo/frontend/app/%28entity%29/dashboard/departamentos/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport {\r\n  Plus,\r\n  Pencil,\r\n  Trash2,\r\n  FileText,\r\n  FileSpreadsheet,\r\n} from 'lucide-react'\r\nimport jsPDF from 'jspdf'\r\nimport autoTable from 'jspdf-autotable'\r\nimport * as XLSX from 'xlsx'\r\nimport CrudLayout from '../../components/CrudLayout'\r\nimport CrudTable from '../../components/CrudTable'\r\nimport { api } from '@/lib/api'\r\n\r\nexport default function DepartamentosPage() {\r\n  const [dados, setDados] = useState<any[]>([])\r\n  const [usuarios, setUsuarios] = useState<any[]>([])\r\n  const [open, setOpen] = useState(false)\r\n  const [editando, setEditando] = useState(false)\r\n  const [form, setForm] = useState<any>({ nome: '', responsavel: '' })\r\n\r\n  async function carregar() {\r\n    const res = await api.get('/entity/departamentos')\r\n    const users = await api.get('/entity/usuarios')\r\n    setDados(res)\r\n    setUsuarios(users.data)\r\n  }\r\n\r\n  useEffect(() => {\r\n    carregar()\r\n  }, [])\r\n\r\n  function salvar() {\r\n    if (editando) {\r\n      api.put(`/entity/departamentos/${form.dpto_id}`, form)\r\n    } else {\r\n      api.post('/entity/departamentos', form)\r\n    }\r\n    setOpen(false)\r\n    carregar()\r\n  }\r\n\r\n  function excluir(d: any) {\r\n    api.put(`/entity/departamentos/${d.dpto_id}/excluir`, {})\r\n    carregar()\r\n  }\r\n\r\n  function gerarPDF() {\r\n    const doc = new jsPDF()\r\n    autoTable(doc, {\r\n      head: [['Nome', 'ResponsÃ¡vel']],\r\n      body: dados.map(d => [d.nome, d.responsavel]),\r\n    })\r\n    doc.save('departamentos.pdf')\r\n  }\r\n\r\n  function gerarExcel() {\r\n    const ws = XLSX.utils.json_to_sheet(dados)\r\n    const wb = XLSX.utils.book_new()\r\n    XLSX.utils.book_append_sheet(wb, ws, 'Departamentos')\r\n    XLSX.writeFile(wb, 'departamentos.xlsx')\r\n  }\r\n\r\n  return (\r\n    <CrudLayout\r\n      title=\"Departamentos\"\r\n      subtitle=\"Cadastro de departamentos\"\r\n      actions={\r\n        <>\r\n          <button onClick={gerarPDF}><FileText /> PDF</button>\r\n          <button onClick={gerarExcel}><FileSpreadsheet /> Excel</button>\r\n          <button onClick={() => { setForm({}); setEditando(false); setOpen(true) }}>\r\n            <Plus /> Novo\r\n          </button>\r\n        </>\r\n      }\r\n    >\r\n      <CrudTable\r\n        columns={[\r\n          { key: 'nome', label: 'Nome' },\r\n          { key: 'responsavel', label: 'ResponsÃ¡vel' },\r\n          {\r\n            key: 'actions',\r\n            label: 'AÃ§Ãµes',\r\n            render: d => (\r\n              <>\r\n                <button onClick={() => { setForm(d); setEditando(true); setOpen(true) }}>\r\n                  <Pencil />\r\n                </button>\r\n                <button onClick={() => excluir(d)}>\r\n                  <Trash2 />\r\n                </button>\r\n              </>\r\n            ),\r\n          },\r\n        ]}\r\n        data={dados}\r\n      />\r\n\r\n      {open && (\r\n        <div>\r\n          <input\r\n            placeholder=\"Nome\"\r\n            value={form.nome}\r\n            onChange={e => setForm({ ...form, nome: e.target.value })}\r\n          />\r\n          <select\r\n            value={form.responsavel}\r\n            onChange={e => setForm({ ...form, responsavel: e.target.value })}\r\n          >\r\n            <option value=\"\">Selecione</option>\r\n            {usuarios.map(u => (\r\n              <option key={u.user_id} value={u.user_id}>\r\n                {u.nome}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <button onClick={salvar}>Salvar</button>\r\n        </div>\r\n      )}\r\n    </CrudLayout>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;;;AAfA;;;;;;;;;AAiBe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IAC5C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IAClD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAM;QAAE,MAAM;QAAI,aAAa;IAAG;IAElE,eAAe;QACb,MAAM,MAAM,MAAM,oHAAG,CAAC,GAAG,CAAC;QAC1B,MAAM,QAAQ,MAAM,oHAAG,CAAC,GAAG,CAAC;QAC5B,SAAS;QACT,YAAY,MAAM,IAAI;IACxB;IAEA,IAAA,0KAAS;uCAAC;YACR;QACF;sCAAG,EAAE;IAEL,SAAS;QACP,IAAI,UAAU;YACZ,oHAAG,CAAC,GAAG,CAAC,CAAC,sBAAsB,EAAE,KAAK,OAAO,EAAE,EAAE;QACnD,OAAO;YACL,oHAAG,CAAC,IAAI,CAAC,yBAAyB;QACpC;QACA,QAAQ;QACR;IACF;IAEA,SAAS,QAAQ,CAAM;QACrB,oHAAG,CAAC,GAAG,CAAC,CAAC,sBAAsB,EAAE,EAAE,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC;QACvD;IACF;IAEA,SAAS;QACP,MAAM,MAAM,IAAI,iKAAK;QACrB,IAAA,yLAAS,EAAC,KAAK;YACb,MAAM;gBAAC;oBAAC;oBAAQ;iBAAc;aAAC;YAC/B,MAAM,MAAM,GAAG,CAAC,CAAA,IAAK;oBAAC,EAAE,IAAI;oBAAE,EAAE,WAAW;iBAAC;QAC9C;QACA,IAAI,IAAI,CAAC;IACX;IAEA,SAAS;QACP,MAAM,KAAK,yIAAU,CAAC,aAAa,CAAC;QACpC,MAAM,KAAK,yIAAU,CAAC,QAAQ;QAC9B,yIAAU,CAAC,iBAAiB,CAAC,IAAI,IAAI;QACrC,6IAAc,CAAC,IAAI;IACrB;IAEA,qBACE,6LAAC,4JAAU;QACT,OAAM;QACN,UAAS;QACT,uBACE;;8BACE,6LAAC;oBAAO,SAAS;;sCAAU,6LAAC,6NAAQ;;;;;wBAAG;;;;;;;8BACvC,6LAAC;oBAAO,SAAS;;sCAAY,6LAAC,kPAAe;;;;;wBAAG;;;;;;;8BAChD,6LAAC;oBAAO,SAAS;wBAAQ,QAAQ,CAAC;wBAAI,YAAY;wBAAQ,QAAQ;oBAAM;;sCACtE,6LAAC,6MAAI;;;;;wBAAG;;;;;;;;;;0BAKd,6LAAC,2JAAS;gBACR,SAAS;oBACP;wBAAE,KAAK;wBAAQ,OAAO;oBAAO;oBAC7B;wBAAE,KAAK;wBAAe,OAAO;oBAAc;oBAC3C;wBACE,KAAK;wBACL,OAAO;wBACP,QAAQ,CAAA,kBACN;;kDACE,6LAAC;wCAAO,SAAS;4CAAQ,QAAQ;4CAAI,YAAY;4CAAO,QAAQ;wCAAM;kDACpE,cAAA,6LAAC,mNAAM;;;;;;;;;;kDAET,6LAAC;wCAAO,SAAS,IAAM,QAAQ;kDAC7B,cAAA,6LAAC,uNAAM;;;;;;;;;;;;oBAIf;iBACD;gBACD,MAAM;;;;;;YAGP,sBACC,6LAAC;;kCACC,6LAAC;wBACC,aAAY;wBACZ,OAAO,KAAK,IAAI;wBAChB,UAAU,CAAA,IAAK,QAAQ;gCAAE,GAAG,IAAI;gCAAE,MAAM,EAAE,MAAM,CAAC,KAAK;4BAAC;;;;;;kCAEzD,6LAAC;wBACC,OAAO,KAAK,WAAW;wBACvB,UAAU,CAAA,IAAK,QAAQ;gCAAE,GAAG,IAAI;gCAAE,aAAa,EAAE,MAAM,CAAC,KAAK;4BAAC;;0CAE9D,6LAAC;gCAAO,OAAM;0CAAG;;;;;;4BAChB,SAAS,GAAG,CAAC,CAAA,kBACZ,6LAAC;oCAAuB,OAAO,EAAE,OAAO;8CACrC,EAAE,IAAI;mCADI,EAAE,OAAO;;;;;;;;;;;kCAK1B,6LAAC;wBAAO,SAAS;kCAAQ;;;;;;;;;;;;;;;;;;AAKnC;GA5GwB;KAAA"}}]
}